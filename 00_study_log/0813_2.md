# match : match_all, match, match_phrase, query_string -> 문자열 그대로를 찾는 방식

GET my_index/_search
{
  "query": {
    "match_all": {}
  }
}

# 일치하는 결과를 반환
# 기본적으로 띄어쓰기는 or / operator라는 파라미터로 조정 가능 
GET my_index/_search
{
  "query": {
    "match": {
      "title" : "world hello"
    }
  }
}

GET my_index/_search
{
  "query": {
    "match": {
      "title" : {
        "query": "world hello",
        "operator": "and"
      }
    }
  }
}

# match_phrase - 순서대로 우리가 찾는 단어들이 문장에 들어있는지 
GET my_index/_search
{
  "query": {
    "match_phrase": {
      "title" : "hello hello"
    }
  }
}

# slop이라는 파라미터로 검색하려는 두 단어의 순서는 유지하되 중간에 몇개의 토큰을 봐줄지를 결정할 수 있습니다.
GET my_index/_search
{
  "query": {
    "match_phrase": {
      "title" : {
        "query": "hello hello",
        "slop" : 2
      }
    }
  }
}

# query_string은 위의 4개 기능을 눈치껏 다 만들어주는 역할을 합니다.
GET my_index/_search
{
  "query": {
    "query_string": {
        "default_field": "title", 
        "query": "hello hello"
    }
  }
}

# 전문검색 가능 
GET my_index/_search
{
  "query": {
    "query_string": {
      # 여러개의 필드에서 특정 단어 검색
        "fields": ["title", "content"], 
        "query": "abc"
    }
  }
}

# query 안에 AND 나 OR 등으로 조건을 직접 명기 가능
GET my_index/_search
{
  "query": {
    "query_string": {
        "fields": ["title", "content"], 
        "query": "hello AND world"
    }
  }
}
